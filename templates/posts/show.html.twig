{% extends 'base.html.twig' %}

{% block title %}Post {{ posts.id }}{% endblock %}

{% block body %}

<table class="table">
    <br/>
    <tbody>
    <tr>
        <th>Text</th>
        <td>{{ posts.text }}</td>
    </tr>
    <tr>
        <th>Name</th>
        <td>{{ posts.user.name }}</td>
    </tr>
    <tr>
        <th>Date/Time</th>
        <td>{{ posts.created ? posts.created|date('Y-m-d H:i:s') }}</td>
    </tr>
    </tbody>
    </table>
<br/>
    This post is liked by:
    {% for likes in posts.likes %}
    <td>{{ likes.user.username}},</td>

    {% endfor %}
    {% if app.user.likes in posts.likes %}
        <form action="{{ path('Unlike', {'id': posts.id}) }}">
        <input type="submit" value="Unlike"><br/>
        <br>
    {% else %}
            <form action="{{ path('Like', {'id': posts.id}) }}">
            <input type="submit" value="like"><br/>
            <br>
    {% endif %}

    <h1>Create a new Reply</h1>
    <a href="{{ path('replies_new', {'id': posts.id}) }}">New reply</a> <br/>
    </form>
    <br>
{% endblock %}